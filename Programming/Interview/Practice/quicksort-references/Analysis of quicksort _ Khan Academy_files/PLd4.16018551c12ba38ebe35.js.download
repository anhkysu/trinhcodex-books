(window.webpackJsonp=window.webpackJsonp||[]).push([["PLd4"],{"0hMS":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TUTORIALS_MAPPED_STANDARDS_QUERY=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),o=r(n("lTCR")),i=r(n("Q8Wn")),s=n("8r+/"),l=r(n("Me13"));let c;function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const u=(0,s.gqlOp)((0,o.default)(c||(c=(e=>e)`
        query getStandardsMappingForTutContent(
            $contentDescriptor: String!
            $standardLocale: String
        ) {
            standardMappingsForContent(
                contentDescriptor: $contentDescriptor
                locale: $standardLocale
            ) {
                id
                setId
                standardId
                description
            }
        }
    `)));t.TUTORIALS_MAPPED_STANDARDS_QUERY=u;class p extends a.Component{render(){const{gqlResult:e,children:t}=this.props;return t(e)}}const h=({data:e,error:t,loading:n})=>{if(null!=t||n||null==e||!e.standardMappingsForContent)return{gqlResult:{isError:null!=t,isLoading:n,standards:[]}};const r=[];return e.standardMappingsForContent.map((e=>{const t={};t.code=e.standardId,t.descriptionHtml=e.description,"en"===i.default.kaLocale?t.link=function(e){const{setId:t,standardId:n}=e;if("CCSS.Math"!==t)return"";const r=n.split(".");let a="";if(r.length<2)return"/commoncore/map";r.length>=4&&(r.length=4,a="#"+r.join("."));if(!r[0].startsWith("HS"))return`/commoncore/grade-${r[0]}-${r[1]}${a}`;return`/commoncore/grade-${r[0]}-${r[0][r[0].length-1]}-${r[1]}${a.replace(".","-")}`}(e):t.link="";const n={};n.prefix=e.setId,n.id=e.setId,t.set=n,r.push(t)})),{gqlResult:{isError:!1,isLoading:n,standards:r}}};function m(){const e=i.default.remoteCountry,t=i.default.kaLocale;return"ZZ"===e?t:`${t}-${e}`}var f=(0,l.default)((({contentDescriptor:e})=>({query:u,variables:{contentDescriptor:e,standardLocale:m()},fastlyCaching:"PERSIST_ACROSS_PUBLISH",mapResultToProps:h})))(p);t.default=f},DCXZ:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("pVnL")),o=r(n("Pwnf")),i=n("Vxy9"),s=E(n("q1tI")),l=n("mR6N"),c=n("JimW"),d=r(n("qRKg")),u=r(n("zEAc")),p=r(n("Gwaz")),h=r(n("g+DZ")),m=r(n("zM6M")),f=r(n("6wxr")),g=r(n("iEW4")),b=n("8SBg"),v=r(n("uEGL")),y=E(n("zbaY")),w=r(n("thEZ")),k=E(n("8jAt"));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const P=15,S=184;class x extends s.Component{constructor(...e){super(...e),this.state={focus:!1,hover:!1},this.onFocus=()=>{this.setState({focus:!0})},this.onBlur=()=>{this.setState({focus:!1})},this.onMouseEnter=()=>{this.setState({hover:!0})},this.onMouseLeave=()=>{this.setState({hover:!1})}}render(){const e=!this.props.first,t=!this.props.last,n=!!this.props.selected,r=s.createElement(g.default,{category:this.props.category,completed:this.props.completed,focus:this.state.focus||this.state.hover,kind:this.props.kind,started:this.props.started,hasTopSubwayTrack:e,hasBottomSubwayTrack:t}),a=s.createElement("div",{className:(0,l.css)(C.info,this.props.withinMobilePage&&C.infoWithinMobile)},s.createElement("div",{className:(0,l.css)(C.title,C.titleSubwayTracks),title:this.props.title,"data-test-id":n?"selected-content-nav-title":void 0},this.props.title)),o=s.createElement(c.View,{style:d.default.srOnly},k._("This is the currently selected item.")),i=this.props.withinMobilePage?`${this.props.slug}-${this.props.contentKind}-mobile-tab`:`${this.props.slug}-${this.props.contentKind}-tab`;return s.createElement("li",{role:"presentation",ref:this.props.refCapturer,className:(0,l.css)(C.containerSubwayTracks)},s.createElement("div",{role:"presentation",className:(0,l.css)(C.item,this.props.withinMobilePage&&C.itemWithinMobilePage),"data-tutorial-nav-selected":n},n&&s.createElement(c.View,{style:C.selectedItemLeftBorder}),s.createElement(h.default,{id:i,"aria-current":n,style:[C.link,this.props.withinMobilePage&&C.linkWithinMobilePage,C.linkSubwayTracks,n&&C.selectedLink],to:this.props.nodeUrl,onFocus:this.onFocus,onMouseEnter:this.onMouseEnter,onBlur:this.onBlur,onMouseLeave:this.onMouseLeave},r,a,n&&o)))}}x.defaultProps={withinMobilePage:!1};class N extends s.Component{render(){const{withinMobilePage:e}=this.props;return s.createElement("div",{className:(0,l.css)(C.item,C.upNextItem,e&&C.itemWithinMobilePage)},s.createElement(h.default,{style:[C.link],to:this.props.href},s.createElement("div",{className:(0,l.css)(C.upNext)},s.createElement("div",{className:(0,l.css)(C.title,C.upNextTitle)},k._("Next lesson")),s.createElement("div",{className:(0,l.css)(C.title,C.singleLineTitle)},this.props.title))))}}N.defaultProps={withinMobilePage:!1};class _ extends s.Component{constructor(...e){super(...e),this._isItemCompleted=e=>{const{statusMap:t}=this.props;if(!t)return!1;const n=e.id;return"complete"===t[String(n)]},this._isItemStarted=e=>{const{statusMap:t}=this.props;if(!t)return!1;const n=e.id;return"started"===t[String(n)]},this.scrollToSelectedNavItem=()=>{const e=null==this.selectedRef||null==this.containerRef;this.props.withinMobilePage||e||setTimeout((()=>{this._mounted&&null!=this.selectedRef&&null!=this.containerRef&&(0,b.jumpToElementWithinContainer)(this.selectedRef,this.containerRef)}),0)},this.captureSelectedRef=e=>{this.selectedRef=e},this.renderNavHeader=()=>{const{tutorial:e}=this.props,t=s.createElement("span",null,s.createElement("span",{className:(0,l.css)(C.breadcrumbsRightArrowContainer)},s.createElement(f.default,{className:(0,l.css)(C.breadcrumbsRightArrow),color:o.default.offBlack,icon:u.default,size:8}))," ");return s.createElement("div",{className:(0,l.css)(C.navHeader,this.props.withinMobilePage&&C.navHeaderWithinMobilePage)},this.props.showBreadcrumbs&&s.createElement("div",{className:(0,l.css)(C.navHeaderBreadcrumbs)},s.createElement(p.default,{containerStyle:C.breadcrumbsContainer,isNavigation:!0,path:this.props.breadcrumbs,separator:t,separatorStyle:C.breadcrumbsRightArrowSeparatorStyle,theme:"dark"})),s.createElement(i.LabelLarge,{tag:"h2",style:C.navHeaderTopicTitle},e.translatedTitle))},this.getItemTitle=(e,t)=>"Exercise"===e.kind?k._("Practice: %(title)s",{title:e.translatedTitle}):e.translatedTitle,this.renderItems=(e,t,n,r)=>{const a=e.map(((n,r)=>{const a=`${t.relativeUrl}/${n.nodeSlug}`,o=n.nodeSlug===this.props.currentNodeSlug;return s.createElement(x,{key:r,category:n.category,kind:n.contentKind,selected:o,domain:this.props.domain,title:this.getItemTitle(n,r),nodeSlug:n.nodeSlug,slug:n.slug,contentKind:n.contentKind,nodeUrl:a,completed:this._isItemCompleted(n),started:this._isItemStarted(n),first:0===r,last:r===e.length-1,withinMobilePage:this.props.withinMobilePage,refCapturer:o?this.captureSelectedRef:void 0})})),o=n||r>0,i=r>0;return s.createElement("li",{key:r},o&&s.createElement("div",{className:(0,l.css)(C.sectionTop)},i&&s.createElement("hr",{className:(0,l.css)(C.divider)}),n&&s.createElement("div",{className:(0,l.css)(C.sponsorNote)},k._("Brought to you by our partner"))),s.createElement("ul",{role:"presentation"},a))},this.renderNavContents=e=>{const{navItems:t,tutorial:n}=this.props,r=(0,m.default)(t).map(((e,t)=>{const[r,a]=e;return this.renderItems(a,n,r,t)})),a=this.props.nextTutorial;var o;a&&r.push(s.createElement("li",{key:r.length},s.createElement(N,{key:"next-tutorial",domain:this.props.domain,title:a.tutorial.translatedTitle,href:null==(o=a.firstChild)?void 0:o.topicPath,withinMobilePage:this.props.withinMobilePage})));return s.createElement("div",{"aria-label":k._("lesson table of contents"),role:"navigation",className:(0,l.css)(this.props.style)},s.createElement("div",{className:(0,l.css)(C.row)},!e&&this.renderNavHeader(),s.createElement("ul",null,r)))}}componentDidMount(){this._mounted=!0,this.scrollToSelectedNavItem()}componentWillUnmount(){this._mounted=!1}render(){if(this.props.withinMobilePage||this.props.inFixture)return this.renderNavContents();const e=this.renderNavHeader(),t=this.renderNavContents(!0);return s.createElement(w.default,{header:e,minHeight:400,scrollOffset:this.props.scrollOffset,style:this.props.style},s.createElement("div",{className:(0,l.css)(C.scrollable),ref:e=>this.containerRef=e},t))}}_.defaultProps={breadcrumbs:[],withinMobilePage:!1,scrollOffset:0};const M=`1px solid ${y.colors.gray85}`,I={backgroundColor:o.default.offBlack8,textDecoration:"none",outline:"none"},C=l.StyleSheet.create({row:{whiteSpace:"nowrap",width:"100%",WebkitOverflowScrolling:"touch"},scrollable:{overflowY:"scroll"},containerSubwayTracks:{display:"block",overflow:"hidden",position:"relative"},item:{background:y.colors.white,boxSizing:"border-box",display:"block",verticalAlign:"top",width:"100%"},itemWithinMobilePage:{width:"100%"},upNextItem:{borderBottom:0,borderTop:M},upNext:{overflow:"hidden"},upNextTitle:{paddingTop:8,marginBottom:4},selectedItemLeftBorder:{position:"absolute",top:0,left:0,borderRight:`4px solid ${o.default.blue}`,height:"100%",borderTopRightRadius:2,borderBottomRightRadius:2},sectionTop:{background:y.colors.white,padding:20,paddingBottom:15},divider:{borderTop:M,boxShadow:"none",margin:0,height:0},sponsorNote:(0,a.default)({},y.typography.labelSmall,{color:y.colors.gray41,marginTop:15}),link:{display:"flex",flexDirection:"row",padding:"16px 20px",position:"relative",whiteSpace:"normal",":hover":I,":focus":I},linkWithinMobilePage:{alignItems:"center"},linkSubwayTracks:{alignItems:"center"},selectedLink:{color:o.default.blue},info:{marginLeft:P,overflow:"hidden",width:S,verticalAlign:"top"},infoWithinMobile:{width:"auto"},title:(0,a.default)({},y.typography.labelMedium,{fontWeight:"normal",paddingTop:0,marginBottom:0,marginTop:0}),titleSubwayTracks:{fontFamily:y.fonts.regular},singleLineTitle:{fontSize:17,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%"},navHeader:{backgroundColor:y.colors.white,borderBottom:M,color:y.colors.gray17,fontFamily:"inherit",fontSize:17,fontWeight:"bold",lineHeight:"23px",padding:20,paddingTop:24,whiteSpace:"normal",width:255},navHeaderWithinMobilePage:{width:"100%"},navHeaderBreadcrumbs:{paddingBottom:4,[y.queries.small]:{display:"none"},[y.queries.medium]:{display:"none"}},navHeaderTopicTitle:{[v.default.lgOrLarger]:{display:"none"}},breadcrumbsRightArrow:{left:0,position:"relative",top:4,transform:"scaleX(-1) translate(0, -50%)"},breadcrumbsRightArrowContainer:{left:0,position:"absolute",top:0},breadcrumbsRightArrowSeparatorStyle:{display:"inline",margin:"0 5px",padding:"0 3px",position:"relative"},breadcrumbsContainer:{display:"inline",position:"relative"}});var D=_;t.default=D},iEW4:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),o=n("mR6N"),i=r(n("Pwnf")),s=r(n("zDya"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}class c extends a.Component{render(){const{category:e,completed:t,kind:n,started:r,iconSize:l}=this.props,c=l/2-d.trackWidth/2,p={background:t?i.default.blue:i.default.offBlack16,left:c};return a.createElement("div",{className:(0,o.css)(u.container)},this.props.hasTopSubwayTrack&&a.createElement("div",{className:(0,o.css)(u.track,u.topTrack),style:p}),a.createElement(s.default,{category:e,completed:t,kind:n,size:l,started:r}),this.props.hasBottomSubwayTrack&&a.createElement("div",{className:(0,o.css)(u.track),style:p}))}}t.default=c,c.defaultProps={hasBottomSubwayTrack:!1,hasTopSubwayTrack:!1,iconSize:24};const d={trackWidth:2,trackLength:100},u=o.StyleSheet.create({container:{float:"left",position:"relative"},track:{position:"absolute",height:d.trackLength,width:d.trackWidth,zIndex:1e3},topTrack:{top:-d.trackLength}})},xZMi:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("pVnL")),o=J(n("q1tI")),i=J(n("4PhQ")),s=r(n("lTCR")),l=n("55Ip"),c=n("mR6N"),d=n("Pk2J"),u=n("8r+/"),p=r(n("f4yp")),h=r(n("mXPZ")),m=r(n("FTEW")),f=r(n("IZg1")),g=r(n("8SYi")),b=r(n("8uWu")),v=r(n("nSHN")),y=r(n("jce4")),w=r(n("PuT4")),k=r(n("1AnN")),T=r(n("8sHD")),E=r(n("izwl")),P=r(n("z2sy")),S=J(n("6OHE")),x=r(n("uEGL")),N=r(n("nVHT")),_=r(n("CtWX")),M=r(n("7RZv")),I=r(n("DCXZ")),C=J(n("zbaY")),D=r(n("G/pM")),O=r(n("Jayu")),R=n("B4xi"),W=n("lYHA"),A=n("FxTa"),U=n("bHum"),j=n("cojK"),L=r(n("SfjP")),q=r(n("cfQQ")),K=r(n("pF/S")),B=n("Y8R6"),$=J(n("8jAt")),H=n("Dpzn"),F=r(n("0hMS")),z=r(n("M+bw")),Y=n("KO8t"),Z=r(n("4Du/"));let G,Q,V=e=>e;function X(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(X=function(e){return e?n:t})(e)}function J(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=X(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const ee=(0,u.gqlOp)((0,s.default)(G||(G=V`
        query getDynamicInfoForTutorial(
            $tutorialId: String!
            $encryptedKey: String
        ) {
            user {
                id
                canEdit: hasPermission(
                    name: "can_edit"
                    scope: ANY_ON_CURRENT_LOCALE
                )
                canCurate: hasPermission(
                    name: "can_curate_tags"
                    scope: ANY_ON_CURRENT_LOCALE
                )
                contentItemProgresses(queryBy: {parentTopicId: $tutorialId}) {
                    content {
                        id
                        progressKey
                    }
                    completionStatus
                }
                hasAdminRole: hasPermission(
                    name: "can_do_what_only_admins_can_do"
                )
                isPhantom
                isChild
            }
            qaExpandKeyInfo(encryptedQaExpandKey: $encryptedKey) {
                feedbackType
                unencryptedKey
            }
        }
    `))),te=(e,t)=>{if(!e||!e.startsWith("?"))return null;const n="&"+e.slice(1),r=new RegExp(`&${t}=([^&#]+)`).exec(n);return r&&decodeURIComponent(r[1])},ne=(0,u.gqlOp)((0,s.default)(Q||(Q=V`
    mutation muteSpecifiedFeedback($expandKey: String!) {
        modifyNotifyOnAnswer(feedbackKey: $expandKey, notifyOnAnswer: false) {
            feedback {
                notifyOnAnswer
            }
        }
    }
`)));class re extends o.Component{constructor(...e){super(...e),this.state={statusMapUpdates:null},this.progressKeyMap={},this._isMounted=!1,this.onNavigateToParentTopic=()=>{const{contentData:e}=this.props;if(!e)return;const{breadcrumbs:t}=e,n=t[t.length-1];(0,B.redirect)(n.href)},this.hasNextTask=()=>{var e,t;const{contentData:n}=this.props;return!!n&&!!(this._getNextNavItem()||null!=(e=n.nextTutorial)&&null!=(t=e.firstChild)&&t.topicPath)},this.onNextTask=()=>{const{contentData:e}=this.props;if(!e)return;const t=this._getNextNavItem();if(t){const n=`${e.tutorialPageData.topicModel.relativeUrl}/${t.nodeSlug}`;this.props.history.push(n)}else{var n,r;(0,B.redirect)(null==(n=e.nextTutorial)||null==(r=n.firstChild)?void 0:r.topicPath)}},this.setProgress=e=>{if(!this._isMounted)return;const t=(0,a.default)({},this.state.statusMapUpdates);(e||[]).map((e=>{t[e.contentId]=e.progress,this.setState({statusMapUpdates:t});const n=this.progressKeyMap[e.contentId];n&&O.default.dispatch({type:R.UPDATE_STATUS,progressKey:n,status:e.progress})}))},this.renderWithUserData=(e,t)=>{var n,r,i;const{contentData:s}=this.props;if(!s)return null;const{attribution:d,breadcrumbs:u,classUpsell:p,domain:h,curationByNodeSlug:m,nextTutorial:f,showTutorialNav:g,tutorialPageData:b,videoAttribution:v,sponsorInformation:S,nodeSlug:x,preloadedTranscript:_,task:M}=s,{topicModel:C,navItems:D,contentModel:O}=b;let R=!1;const W={},A=!e.loading&&(null==(n=e.data)?void 0:n.user),U=!e.loading&&(null==(r=e.data)?void 0:r.qaExpandKeyInfo);if(!e.loading&&null!=(i=e.data)&&i.user){R=e.data.user.canEdit||e.data.user.canCurate;(e.data.user.contentItemProgresses||[]).forEach((({content:e,completionStatus:t})=>{e.id&&(W[e.id]=t.toLowerCase(),this.progressKeyMap[e.id]=e.progressKey)}))}Object.assign(W,this.state.statusMapUpdates);const j=O.contentKind,L=this._getNextNavItem(),q=`${C.relativeUrl}/${x}`,K={restrictPosting:!(!A||!A.isChild)};U&&(U.unencryptedKey&&(K.qaExpandKey=U.unencryptedKey),U.feedbackType&&(K.expandFeedbackType=U.feedbackType));let B=null,$=null;g&&(B=o.createElement(I.default,{tutorial:C,navItems:D,statusMap:W,currentNodeSlug:x,domain:h,nextTutorial:f,style:ae.tutorialNav,breadcrumbs:u,showBreadcrumbs:this.shouldShowBreadcrumbs(),scrollOffset:this._getScrollOffset()}),$=o.createElement("div",{className:(0,c.css)(ae.mobileTutorialNav,"Exercise"===j&&ae.mobileTutorialNavExerciseFooterAffordance)},o.createElement("div",{className:(0,c.css)(ae.mobileTutorialNavContents)},o.createElement(I.default,{tutorial:C,navItems:D,statusMap:W,currentNodeSlug:x,domain:h,nextTutorial:f,withinMobilePage:!0,showBreadcrumbs:this.shouldShowBreadcrumbs()}))));let H=()=>{};if(L){const e=L;H=()=>{const t=C.relativeUrl+"/"+e.nodeSlug;this.props.history.push(t)}}const z=!(1===t.length),Y=()=>{const{match:{params:{kind:e,slug:t}}}=this.props;return!(!e||!t)&&`${e}/${t}`===x},Z=O.kind+":"+O.id,G=o.createElement("div",{key:"tutorial-page","data-test-id":"tutorial-page"},o.createElement(F.default,{contentDescriptor:Z},(({standards:t,isError:n,isLoading:r})=>{const i=(0,a.default)({},O);return n||r||(i.standards=t),o.createElement(o.Fragment,null,o.createElement(l.Route,{path:"*/v/:slug",render:()=>o.createElement(k.default,{canRenderContent:Y(),video:i,task:M,nextContentItem:L,navigateToNextItem:H,classUpsell:p,breadcrumbs:u,discussionContext:K,domain:h,topic:C,mobileTutorialNav:$,preloadedTranscript:_&&_.videoId===i.id?_:null,showEditorShortcuts:R,attribution:v,shouldAutoplay:z,isLoadingUserData:e.loading})}),o.createElement(l.Route,{path:"*/a/:slug",render:()=>o.createElement(T.default,{canRenderContent:Y(),article:i,breadcrumbs:u,classUpsell:p,currentUrl:q,discussionContext:K,domain:h,showEditorShortcuts:R,topic:C,mobileTutorialNav:$,sponsorInformation:S,isLoadingUserData:e.loading})}),o.createElement(l.Route,{path:"*/e/:slug",render:()=>o.createElement(E.default,{canRenderContent:Y(),key:i.name,exercise:i,breadcrumbs:u,domain:h,showEditorShortcuts:R,tutorial:C,inFixture:this.props.inFixture,mobileTutorialNav:$,showTutorialNav:g,onNextTask:this.hasNextTask()?this.onNextTask:void 0,onNavigateToParentTopic:this.onNavigateToParentTopic,nextTaskKind:this.nextTaskKind()})}),o.createElement(l.Route,{path:"*/(p[a-z]?)/:slug",render:()=>o.createElement(P.default,{canRenderContent:Y(),key:i.name,scratchpad:i,topic:C})}))}))),Q=m[x];return o.createElement("div",null,o.createElement("div",null,this.renderAssignmentHeader()),o.createElement("div",{className:(0,c.css)(ae.customHeaderContainer)},this._maybeGetCustomHeader()),o.createElement("div",{className:(0,c.css)(ae.wrapper,"Exercise"===j&&ae.exerciseFooterAffordance)},B,o.createElement("div",{id:O.nodeSlug+"-panel","aria-labelledby":O.slug+"-"+O.contentKind+"-tab",className:(0,c.css)(ae.page,g&&ae.pageWithTutorialNav)},G||o.createElement(N.default,null),Q&&o.createElement("div",{className:(0,c.css)(ae.moduleList)},g&&o.createElement(y.default,{domain:h,modules:Q.modules})))),d&&o.createElement(w.default,d))}}componentDidMount(){this._isMounted=!0,v.default.register("tutorial_node_progress",this.setProgress);const{contentData:e,search:t,gqlClient:r}=this.props;if(null!=e&&e.tutorialPageData){if("1"===te(t,"mute")){const e=te(t,"qa_expand_key");e&&r.mutate(ne,{variables:{expandKey:e}}).then((e=>{}))}e.mayNeedExtraWidgetsLater&&setTimeout((()=>{Promise.all([n.e("corelibs"),n.e("shared"),n.e("6YAN"),n.e("RTl1"),n.e("4IIX"),n.e("6hzU"),n.e("79qq"),n.e("36AW"),n.e("326h"),n.e("4bT6"),n.e("5cH0"),n.e("7MyX3")]).then(n.t.bind(null,"0UwG",7)).then((e=>e.init({skipMathJax:!0})))}),1e3),window._kiq=window._kiq||[],window._kiq.push(["set",{bibliotron_new_design:"true",window_width:window.innerWidth,window_height:window.innerHeight}]),this.handlePageRender()}}componentDidUpdate({contentData:e}){const{contentData:t}=this.props,n=e?e.nodeSlug:"";t&&n!==t.nodeSlug&&this.handlePageRender()}componentWillUnmount(){this._isMounted=!1}markConversion(e){const{contentData:t,markConversion:n}=this.props;if(!t||!t.tutorialPageData)return;const{contentModel:r}=t.tutorialPageData;n({id:e,extra:{product:"library",content_id:r.id,slug:r.slug}})}handlePageRender(){const{contentData:e}=this.props;if(!e||e.isNotFound)return;this.markPageviewConversion();const t=e.nodeSlug.startsWith("e/"),n=document.querySelector("#up-next-module");if(n){const e=t?"none":"block";n.style.display=e}}_maybeGetCustomHeader(){const{contentData:e}=this.props;if(!e||e.isNotFound)return null;const{customHeaderId:t,subject:n}=e;return"gtp-custom-header"===t?o.createElement(M.default,{selected:"lessons",showUpsellTooltip:!0,examId:n,leftAlign:!0}):null}_getScrollOffset(){const{contentData:e}=this.props;return"gtp-custom-header"===(null==e?void 0:e.customHeaderId)?Y.headerHeight:0}_getNextNavItem(){const{contentData:e}=this.props;if(!e)return;const{tutorialPageData:t}=e,{navItems:n}=t,r=this._getCurrentTaskIndex();return r===n.length?null:n[r+1]}getTitle(){const{contentData:e}=this.props;if(!e||e.isNotFound)return"";const{tutorialPageData:t}=e,{contentModel:n}=t,r=(0,H.getTranslatedContentTitle)(e);if(r)return r;const{breadcrumbs:a}=e;return[n.translatedTitle].concat(a.slice().reverse().map((e=>e.title))).join(" | ")}_getCurrentTaskIndex(){const{contentData:e}=this.props;if(!e)return-1;const{tutorialPageData:t}=e,{contentModel:n,navItems:r}=t;return r.findIndex((e=>e.id===n.id&&e.kind===n.kind))}nextTaskKind(){var e,t;const{contentData:n}=this.props,r=this._getNextNavItem();return r?r.kind:null==n||null==(e=n.nextTutorial)||null==(t=e.firstChild)?void 0:t.kind}markPageviewConversion(){const{contentData:e}=this.props;if(!e||e.isNotFound)return;const{tutorialPageData:t}=e,{contentModel:n}=t;switch(n.contentKind){case"Article":this.markConversion("pageview_article");break;case"Video":this.markConversion("pageview_video");break;case"Exercise":n.isSkillCheck&&this.markConversion("pageview_skill_check"),this.markConversion("pageview_exercise");break;case"Talkthrough":this.markConversion("pageview_coding_talkthrough");break;case"Challenge":this.markConversion("pageview_coding_challenge");break;case"Project":this.markConversion("pageview_coding_project");break;case"Interactive":this.markConversion("pageview_coding_interactive");break;default:i.default.error("User viewed an unexpected contentKind",i.Errors.Internal,{sentryData:{contexts:{extras:{contentKind:n.contentKind}},tags:{LTv2:"true"}}})}}renderAssignmentHeader(){const{contentData:e,profile:t}=this.props;if(!e||null==t||!t.get("hasClasses"))return null;const{tutorialPageData:n}=e,{contentModel:r}=n,a=r.id||"",{domainId:i,courseId:s,unitId:l,lessonId:c}=e;return o.createElement(b.default,{contentDescriptor:`${r.kind}:${a}`,contentTitle:r.title,contentPath:{domainId:i,courseId:s,unitId:l,lessonId:c,contentKind:r.kind,contentId:a}})}shouldShowBreadcrumbs(){const{contentData:e}=this.props;return"lsat"!==(null==e?void 0:e.subject)}getPageSettings(){const{contentData:e,location:t}=this.props,n=!!t.queryParams.qa_expand_key;if(!e)return{headerBackgroundColor:"darkBlue",noIndex:n};const{breadcrumbs:r=[],canonicalUrl:a="",description:o="",imageUrl:i="",iosSmartBanner:s=!1,noIndex:l=n,videoUrl:c="",videoEmbedUrl:d=""}=e,u=r.map((e=>({href:e.href,title:e.title}))),p={title:this.getTitle(),noIndex:l,breadcrumbsForGoogle:u,description:o,canonicalUrl:a,iOSSmartBanner:s,headerBackgroundColor:"darkBlue"};return i&&(p.imageUrl=i),(c||d)&&(p.videoUrl=c,p.videoEmbedUrl=d),p}render(){const e=this.getPageSettings(),{contentData:t,contentDataError:n,search:r}=this.props;if(!t)return null!=n?(i.default.error(n,i.Errors.TransientKhanService),o.createElement(g.default,null)):o.createElement(D.default,{settings:e},o.createElement(_.default,null));const{tutorialPageData:a}=t;if(!a||t.isNotFound)return t.existsInEnglish?o.createElement(f.default,null):o.createElement(m.default,null);const s=a.topicModel.contentId;return o.createElement(D.default,{settings:e},o.createElement(p.default,{query:ee,variables:{tutorialId:s,encryptedKey:te(r,"qa_expand_key")},fetchPolicy:"cache-and-network",skip:!h.default.hasProfile},(e=>o.createElement(W.HistoryContext.Consumer,null,(({history:t})=>this.renderWithUserData(e,t))))))}}const ae=c.StyleSheet.create({wrapper:{display:"flex",minHeight:800,width:"100%"},page:{background:C.colors.white,overflow:"hidden",width:"100%",[C.queries.small]:{width:"100%"},[C.queries.medium]:{width:"100%"}},pageWithTutorialNav:{width:"calc(100% - 256px)"},tutorialNav:{flexShrink:0,borderRight:`1px solid ${C.colors.gray85}`,width:255,[C.queries.small]:{display:"none"},[C.queries.medium]:{display:"none"}},mobileTutorialNavContents:{maxWidth:512,margin:"0 auto"},moduleList:{borderTop:`1px solid ${C.colors.gray85}`},mobileTutorialNav:{borderBottom:`8px solid ${C.colors.gray90}`,borderTop:`8px solid ${C.colors.gray90}`,display:"none",[C.queries.small]:{display:"block"},[C.queries.medium]:{display:"block"}},mobileTutorialNavExerciseFooterAffordance:{borderBottomWidth:0},exerciseFooterAffordance:{[x.default.lgOrSmaller]:{paddingBottom:S.chromeSizes.exercisePhoneFooterHeight}},customHeaderContainer:{top:-1,position:"sticky",zIndex:S.constants.zindexFixedNavbar}});var oe=(0,d.compose)((0,K.default)(),q.default,L.default,(0,U.withConversionContext)((e=>{const{contentData:t}=e;if(!t)return{product:U.enums.Product.OTHER_PRODUCT};const{ancestorTopics:n,subject:r,domain:o,domainId:i,courseId:s,unitId:l,lessonId:c,contentId:d,contentKind:u,tutorialPageData:p}=t,h="Scratchpad"===u?U.enums.ContentKind.Interactive:u,m=p?p.contentModel.translatedTitle:$._("Page not found");let f=null;if("test-prep"===o){const e=n&&n.find((e=>"Topic"===e.renderType)),t=e?e.slug:null;f=(0,A.createTestPrepStruct)(r,t)}return(0,a.default)({product:U.enums.Product.OTHER_PRODUCT,activity:(0,A.mapContentKindToActivity)(h),content:(0,a.default)({kind:h,contentId:d},i?{domainId:i}:null,{courseId:s},l?{unitId:l}:null,{lessonId:c,contentTitle:m})},f?{testPrep:f}:null)})),j.withMarkConversion,z.default,Z.default)(re);t.default=oe},zM6M:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=e=>((e,t)=>{const n=[];let r=null;return e.forEach((e=>{const a=t(e);r?r[0]===a?r[1].push(e):(n.push(r),r=[a,[e]]):r=[a,[e]]})),r&&n.push(r),n})(e,(e=>!!e.sponsored));t.default=r}}]);
//# sourceMappingURL=../../sourcemaps/en/PLd4.16018551c12ba38ebe35.js.map