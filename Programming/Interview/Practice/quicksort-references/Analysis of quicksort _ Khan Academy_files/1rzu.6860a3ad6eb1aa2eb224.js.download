(window.webpackJsonp=window.webpackJsonp||[]).push([["1rzu"],{"pF/S":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("pVnL")),o=r("NE0T"),s=P(r("q1tI")),u=r("55Ip"),c=n(r("FCtg")),l=P(r("4PhQ")),d=n(r("/eLw")),i=n(r("FTEW")),p=n(r("Q8Wn")),h=r("ZtlQ"),m=r("MRvb"),f=r("Djys");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}class g extends s.Component{shouldComponentUpdate(e){const t=({status:e})=>"loading"===e;return(this.props.context!==e.context||!t(e.result))&&(this.props.context!==e.context||t(this.props.result)!==t(e.result)||this.props.children!==e.children||this.props.result!==e.result)}render(){return this.props.children(this.props.result)}}const w=e=>{const t=s.useRef(null),r=(0,h.useLocation)(),n=(n,a,d)=>(t.current=d,s.createElement(o.Data,{handler:()=>(0,f.contentDataRequestHandler)(d),requestId:(0,f.getContentDataRequestId)(d)},(t=>((t,n,a)=>{if("success"===a.status){const e=a.data;if(e.redirectTo){const t=(0,m.parseUrl)(e.redirectTo);return p.default.kaLocale===t.searchParams.get("lang")&&t.searchParams.delete("lang"),s.createElement(u.Redirect,{to:(0,m.toRelativeUrl)(t.href)})}if(function(e){return!!(e&&e.requestedPath&&e.renderedPath)&&e.requestedPath!==e.renderedPath&&!e.requestedPath.startsWith(e.renderedPath)}(e)){const t=e.requestedPath||"",n=e.renderedPath||"";c.default.hydrationStatus().isHydrating&&l.default.error("Client-side routing resulted in redirect (phase 2)",l.Errors.Internal,{sentryData:{contexts:{extras:{requestedPath:t,renderedPath:n}}}});const a=`${n.startsWith("/")?n:"/"+n}${r.search}`;return s.createElement(u.Redirect,{to:a,push:!1})}}const o=n.params.kind?t.split(`/${n.params.kind}/`)[0]:t;return s.createElement(g,{context:o,result:a,children:e.children})})(n,a,t)))),a=(e,r,a)=>{const o=((e,r)=>{const{pathname:n,search:a}=e,o=(0,d.default)(a),s=null!=r&&r(o);if(s&&null!=t.current)return t.current;if(s&&null==t.current){const e=new RegExp("((?:/[^/]*)+)(?:/[^/]*){2}").exec(n);if(!e||!e[1])throw new l.KAError("Cannot determine content path to load",l.Errors.Internal);const t=e[1].split("/").slice(0,4).join("/");return delete o.modal,{path:decodeURIComponent(t),queryParams:o}}return{path:decodeURIComponent(n),queryParams:o}})(e,a);return n(e.pathname,r,o)};return s.createElement(u.Switch,null,s.createElement(u.Route,{path:"/devadmin/content/preview/:parentTopicId/:topicId",render:({location:e,match:t})=>a(e,t,(()=>!1))}),s.createElement(u.Route,{path:"/:domain/*/:kind(v|a|e)/:slug",render:({location:e,match:t})=>a(e,t,(e=>"1"===e.modal))}),s.createElement(u.Route,{path:"/:domain/*/:kind(p[a-z]?)/:slug",render:({location:e,match:t})=>a(e,t)}),s.createElement(u.Route,{path:"/*/:kind(quiz|test)/:slug",render:({location:e,match:t})=>a(e,t,(()=>!0))}),s.createElement(u.Route,{path:"/:domain/:subject?/:unit?",render:({location:e,match:t})=>a(e,t)}),s.createElement(u.Route,{path:"*"},s.createElement(i.default,null)))};var R=()=>e=>t=>s.createElement(w,null,(r=>{const n="success"===r.status?r.data:null,o="error"===r.status?r.error:null;return s.createElement(e,(0,a.default)({},t,{contentData:n,contentDataError:null==o?void 0:o.message,contentDataLoading:"loading"===r.status}))}));t.default=R}}]);
//# sourceMappingURL=../../sourcemaps/en/1rzu.6860a3ad6eb1aa2eb224.js.map