(window.webpackJsonp=window.webpackJsonp||[]).push([["RTl1"],{K7le:function(e,t,n){"use strict";n.r(t),n.d(t,"Popover",(function(){return k})),n.d(t,"PopoverContent",(function(){return D})),n.d(t,"PopoverContentCore",(function(){return R}));var o=n("pVnL"),s=n.n(o),r=n("q1tI"),i=n("i8i4"),l=n.n(i),a=n("JimW"),c=n("6RhW"),d=n("Uafs"),p=n("mR6N"),h=n("Pwnf"),u=n("gE8/"),m=n("Vxy9"),f=n("yts4"),E=n("+6Ef");const b={close:void 0,placement:"top"};var g=r.createContext(b);class y extends r.Component{componentDidMount(){const e=i.findDOMNode(this);e&&this.props.anchorRef(e)}render(){const{children:e,id:t,onClick:n,"aria-controls":o,"aria-expanded":i}=this.props,l={id:t,"aria-controls":o,"aria-expanded":i};if("function"==typeof e){const t=e({open:n});return r.cloneElement(t,l)}return r.cloneElement(e,s()({},e.props,l,{onClick:e.props.onClick?t=>{t.stopPropagation(),e.props.onClick(),n()}:n}))}}class x extends r.Component{componentDidUpdate(e){e.placement!==this.props.placement&&this.props.onUpdate(this.props.placement)}render(){const{placement:e,children:t,id:n,isReferenceHidden:o,updateBubbleRef:s,updateTailRef:i,tailOffset:l,style:d,"aria-describedby":p}=this.props,h=t.props,u=h.emphasized?"blue":h.color;return r.createElement(r.Fragment,null,r.createElement(a.View,{"aria-describedby":p,id:n,role:"dialog",ref:s,"data-placement":e,style:[o&&v.hide,v[`content-${e}`],d]},t,r.createElement(c.TooltipTail,{color:u,updateRef:i,placement:e,offset:l})))}}const v=p.StyleSheet.create({hide:{pointerEvents:"none",opacity:0,backgroundColor:"transparent",color:"transparent"},"content-top":{flexDirection:"column"},"content-right":{flexDirection:"row-reverse"},"content-bottom":{flexDirection:"column-reverse"},"content-left":{flexDirection:"row"}});function w(e){return Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))}class C extends r.Component{constructor(...e){super(...e),this.setInitialFocusableElement=e=>{const t=this.maybeGetInitialFocusElement(e)||this.maybeGetFirstFocusableElement(e)||e;t===e&&(e.tabIndex=-1),setTimeout((()=>{t.focus()}),0)}}componentDidMount(){const e=i.findDOMNode(this);e&&this.setInitialFocusableElement(e)}maybeGetInitialFocusElement(e){const{initialFocusId:t}=this.props;return t?e.querySelector(`#${t}`):null}maybeGetFirstFocusableElement(e){const t=w(e);return t.length?t[0]:null}render(){return this.props.children}}class P extends r.Component{constructor(...e){super(...e),this.focusableElementsInPopover=[],this.addEventListeners=()=>{const{anchorElement:e}=this.props;e&&e.addEventListener("keydown",this.handleKeydownPreviousFocusableElement,!0),this.nextElementAfterPopover=this.getNextFocusableElement(),this.nextElementAfterPopover&&this.nextElementAfterPopover.addEventListener("keydown",this.handleKeydownNextFocusableElement,!0)},this.getNextFocusableElement=()=>{const{anchorElement:e}=this.props;if(!e||this.nextElementAfterPopover)return;const t=w(document),n=t.indexOf(e);if(n>=0){return t[n<t.length-1?n+1:0]}},this.getComponentRootNode=e=>{if(!e)return;const t=i.findDOMNode(e);if(!t)throw new Error("Assertion error: root node should exist after mount");this.rootNode=t,this.focusableElementsInPopover=w(this.rootNode)},this.handleFocusPreviousFocusableElement=()=>{this.props.anchorElement&&this.props.anchorElement.focus()},this.handleFocusNextFocusableElement=()=>{this.nextElementAfterPopover&&this.nextElementAfterPopover.focus()},this.handleKeydownPreviousFocusableElement=e=>{"Tab"!==e.key||e.shiftKey||(e.preventDefault(),this.focusableElementsInPopover[0].focus())},this.handleKeydownNextFocusableElement=e=>{if("Tab"===e.key&&e.shiftKey){e.preventDefault();const t=this.focusableElementsInPopover.length-1;this.focusableElementsInPopover[t].focus()}}}componentDidMount(){this.addEventListeners()}componentDidUpdate(){this.addEventListeners()}componentWillUnmount(){const{anchorElement:e}=this.props;e&&(setTimeout((()=>e.focus()),0),e.removeEventListener("keydown",this.handleKeydownPreviousFocusableElement,!0)),this.nextElementAfterPopover&&this.nextElementAfterPopover.removeEventListener("keydown",this.handleKeydownNextFocusableElement,!0)}render(){const{children:e}=this.props;return r.createElement(r.Fragment,null,r.createElement("div",{tabIndex:"0",onFocus:this.handleFocusPreviousFocusableElement,style:{position:"fixed"}}),r.createElement("div",{ref:this.getComponentRootNode},r.createElement(C,{initialFocusId:this.props.initialFocusId},e)),r.createElement("div",{tabIndex:"0",onFocus:this.handleFocusNextFocusableElement,style:{position:"fixed"}}))}}class F extends r.Component{constructor(...e){super(...e),this.state={isFirstClick:!0},this._handleKeyup=e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())},this._handleClick=e=>{var t;if(this.state.isFirstClick)return void this.setState({isFirstClick:!1});const n=l.a.findDOMNode(null==(t=this.props.contentRef)?void 0:t.current);n&&!n.contains(e.target)&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())}}componentDidMount(){window.addEventListener("keyup",this._handleKeyup),window.addEventListener("click",this._handleClick)}componentWillUnmount(){window.removeEventListener("keyup",this._handleKeyup),window.removeEventListener("click",this._handleClick)}render(){return null}}class k extends r.Component{constructor(...e){super(...e),this.state={opened:!!this.props.opened,anchorElement:null,placement:this.props.placement},this.contentRef=r.createRef(),this.handleClose=()=>{this.setState({opened:!1},(()=>{this.props.onClose&&this.props.onClose()}))},this.handleOpen=()=>{this.props.dismissEnabled&&this.state.opened?this.setState({opened:!1}):this.setState({opened:!0})},this.updateRef=e=>{const t=e&&l.a.findDOMNode(e);t&&this.state.anchorElement!==t&&this.setState({anchorElement:t})}}static getDerivedStateFromProps(e,t){return{opened:"boolean"==typeof e.opened?e.opened:t.opened}}renderContent(){const{content:e}=this.props;return r.cloneElement("function"==typeof e?e({close:this.handleClose}):e,{ref:this.contentRef})}renderPopper(e){const{initialFocusId:t,placement:n}=this.props,{anchorElement:o}=this.state;return r.createElement(P,{anchorElement:o,initialFocusId:t},r.createElement(c.TooltipPopper,{anchorElement:o,placement:n},(t=>r.createElement(x,s()({},t,{"aria-describedby":`${e}-anchor`,id:e,onUpdate:e=>this.setState({placement:e})}),this.renderContent()))))}getHost(){return Object(d.maybeGetPortalMountedModalHostElement)(this.state.anchorElement)||document.body}render(){const{children:e,dismissEnabled:t,id:n}=this.props,{opened:o,placement:s}=this.state,i=this.getHost();return r.createElement(g.Provider,{value:{close:this.handleClose,placement:s}},r.createElement(a.IDProvider,{id:n,scope:"popover"},(t=>r.createElement(r.Fragment,null,r.createElement(y,{anchorRef:this.updateRef,id:`${t}-anchor`,"aria-controls":t,"aria-expanded":o?"true":"false",onClick:this.handleOpen},e),i&&o&&l.a.createPortal(this.renderPopper(t),i)))),t&&o&&r.createElement(F,{onClose:this.handleClose,contentRef:this.contentRef}))}}k.defaultProps={placement:"top"};class I extends r.Component{render(){const{light:e,"aria-label":t,style:n,testId:o}=this.props;return r.createElement(g.Consumer,null,(({close:s})=>r.createElement(E.default,{icon:f.icons.dismiss,"aria-label":t,onClick:s,kind:e?"primary":"tertiary",light:e,style:n,testId:o})))}}I.defaultProps={light:!0,"aria-label":"Close Popover"};class R extends r.Component{render(){const{children:e,closeButtonLight:t,closeButtonLabel:n,closeButtonVisible:o,color:s,style:i,testId:l}=this.props;return r.createElement(a.View,{"data-test-id":l,style:[_.content,"white"!==s&&_[s],i]},o&&r.createElement(I,{"aria-label":n,light:t||"white"!==s,style:_.closeButton,testId:`${l||"popover"}-close-btn`}),e)}}R.defaultProps={color:"white",closeButtonLight:!1,closeButtonVisible:!1};const _=p.StyleSheet.create({content:{borderRadius:u.default.xxxSmall_4,border:`solid 1px ${h.default.offBlack16}`,backgroundColor:h.default.white,boxShadow:`0 ${u.default.xSmall_8}px ${u.default.xSmall_8}px 0 ${h.default.offBlack8}`,margin:0,maxWidth:18*u.default.medium_16,padding:u.default.large_24,overflow:"hidden",justifyContent:"center"},blue:{backgroundColor:h.default.blue,color:h.default.white},darkBlue:{backgroundColor:h.default.darkBlue,color:h.default.white},closeButton:{position:"absolute",right:u.default.xSmall_8,top:u.default.xSmall_8,zIndex:1}}),B=Object(a.addStyle)("img");class D extends r.Component{constructor(...e){super(...e),this.maybeRenderImage=({placement:e})=>{const{image:t}=this.props;return t?r.createElement(a.View,{style:[S.image,"bottom"===e&&S.imageToBottom]},t):null},this.maybeRenderIcon=()=>{const{icon:e}=this.props;return e?r.createElement(a.View,{style:S.iconContainer},"string"!=typeof e?e:r.createElement(B,{src:e,style:S.icon})):null},this.maybeRenderActions=e=>{const{actions:t}=this.props;return t?r.createElement(a.View,{style:S.actions},"function"==typeof t?t({close:e}):t):null}}componentDidMount(){const{icon:e,image:t}=this.props;if(t&&e)throw new Error("'image' and 'icon' cannot be used at the same time. You can fix this by either removing 'image' or 'icon' from your instance.")}validateProps({placement:e}){if(this.props.image&&("left"===e||"right"===e))throw new Error("'image' can only be vertically placed. You can fix this by either changing `placement` to `top` or `bottom` or removing the `image` prop inside `content`.")}render(){const{closeButtonLabel:e,closeButtonVisible:t,content:n,emphasized:o,icon:s,image:i,style:l,title:c,testId:d}=this.props;return r.createElement(g.Consumer,null,(({close:p,placement:h})=>(this.validateProps({close:p,placement:h}),r.createElement(R,{color:o?"blue":"white",closeButtonLight:i&&"top"===h,closeButtonLabel:e,closeButtonVisible:t,style:l,testId:d},r.createElement(a.View,{style:!!s&&S.withIcon},this.maybeRenderImage({placement:h}),this.maybeRenderIcon(),r.createElement(a.View,{style:S.text},r.createElement(m.HeadingSmall,{style:S.title},c),r.createElement(m.Body,null,n))),this.maybeRenderActions(p)))))}}D.defaultProps={closeButtonVisible:!1};const S=p.StyleSheet.create({actions:{marginTop:u.default.large_24,flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},text:{justifyContent:"center"},title:{marginBottom:u.default.xSmall_8},iconContainer:{alignItems:"center",justifyContent:"center",height:u.default.xxxLarge_64,width:u.default.xxxLarge_64,minWidth:u.default.xxxLarge_64,marginRight:u.default.medium_16,overflow:"hidden"},icon:{width:"100%"},withIcon:{flexDirection:"row"},image:{marginBottom:u.default.large_24,marginLeft:-u.default.large_24,marginRight:-u.default.large_24,marginTop:-u.default.large_24,width:`calc(100% + ${2*u.default.large_24}px)`},imageToBottom:{marginBottom:-u.default.large_24,marginTop:u.default.large_24,order:1}})}}]);
//# sourceMappingURL=../../sourcemaps/en/RTl1.b3b59a1041f8abbb9109.js.map